{"ast":null,"code":"import React from'react';import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import'swiper/swiper.css';import Navbar from'./components/UI/Navbar/Navbar';import Main from'./pages/Main';import{useDispatch}from'react-redux';import{resize}from'./components/globalSlices/windowWidthSlice';import{scrolling}from'./components/globalSlices/scroll';import{useEffect}from'react';import Footer from'./components/UI/Footer/Footer';import{createBrowserRouter,createRoutesFromElements,Route,Outlet,RouterProvider}from'react-router-dom';import NewsPage,{NewsPageLoader}from'./pages/NewsPage';import Registration from'./pages/Registration';import{checkAuth}from'./components/globalSlices/authSlice';import AccountPage from'./pages/AccountPage';import Login from'./pages/Login';import MailActivate from'./pages/MailActivate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var router=createBrowserRouter(createRoutesFromElements(/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Root,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/news\",element:/*#__PURE__*/_jsx(NewsPage,{}),loader:NewsPageLoader}),/*#__PURE__*/_jsx(Route,{path:\"/registration\",element:/*#__PURE__*/_jsx(Registration,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/account\",element:/*#__PURE__*/_jsx(AccountPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/registration/activate\",element:/*#__PURE__*/_jsx(MailActivate,{})})]})));var dispatch=useDispatch();useEffect(function(){dispatch(resize());if(localStorage.getItem('token')){console.log(localStorage.getItem('token'));dispatch(checkAuth());}});window.addEventListener('resize',function(){dispatch(resize());},true);window.addEventListener('scroll',function(){dispatch(scrolling());},true);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(RouterProvider,{router:router})});}var Root=function Root(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Outlet,{})}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","Navbar","Main","useDispatch","resize","scrolling","useEffect","Footer","createBrowserRouter","createRoutesFromElements","Route","Outlet","RouterProvider","NewsPage","NewsPageLoader","Registration","checkAuth","AccountPage","Login","MailActivate","App","router","dispatch","localStorage","getItem","console","log","window","addEventListener","Root"],"sources":["/home/user/MyLinuxProjects/delolive/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'swiper/swiper.css'\nimport Navbar from './components/UI/Navbar/Navbar';\nimport Main from './pages/Main';\nimport { useDispatch } from 'react-redux';\nimport { resize } from './components/globalSlices/windowWidthSlice';\nimport { scrolling } from './components/globalSlices/scroll';\nimport { useEffect } from 'react';\nimport Footer from './components/UI/Footer/Footer';\nimport { \n  createBrowserRouter, \n  createRoutesFromElements,\n  Route,\n  Outlet,\n  RouterProvider\n } from 'react-router-dom';\nimport NewsPage, { NewsPageLoader } from './pages/NewsPage';\nimport Registration from './pages/Registration';\nimport { checkAuth } from './components/globalSlices/authSlice';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from './store/store';\nimport AccountPage from './pages/AccountPage';\nimport Login from './pages/Login';\nimport MailActivate from './pages/MailActivate';\n\nfunction App() {\n  const router = createBrowserRouter(\n    createRoutesFromElements(\n      <Route path=\"/\" element={<Root />}>\n        <Route index element={<Main/>} />\n        <Route path='/news' element={<NewsPage/>} loader={NewsPageLoader} />\n        <Route path='/registration' element={<Registration/>}/>\n        <Route path='/login' element={<Login/>}/>\n        <Route path='/account' element={<AccountPage/>}/>\n        <Route path='/registration/activate' element={<MailActivate/>}/>\n      </Route>\n    )\n  );\n\n  type AppDispatch = ThunkDispatch<RootState, void, any>;\n  const dispatch: AppDispatch = useDispatch();\n\n  \n  useEffect(() => {\n    dispatch(resize())\n\n    if(localStorage.getItem('token')){\n      console.log(localStorage.getItem('token'))\n      dispatch(checkAuth())\n    }\n  })\n\n  window.addEventListener('resize', () => {\n      dispatch(resize())\n  }, true);\n  window.addEventListener('scroll', () => {\n      dispatch(scrolling())\n}, true);\n\n  return (\n    <div className='App'>\n      <RouterProvider router={router}/>\n    </div>\n  );\n}\n\nconst Root = () => {\n  return(\n    <>\n      <Navbar/>\n      <div>\n        <Outlet/>\n      </div>\n      <Footer/>\n    </>\n  )\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,WAAW,CAClB,MAAO,sCAAsC,CAC7C,MAAO,mBAAmB,CAC1B,MAAOC,OAAM,KAAM,+BAA+B,CAClD,MAAOC,KAAI,KAAM,cAAc,CAC/B,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,MAAM,KAAQ,4CAA4C,CACnE,OAASC,SAAS,KAAQ,kCAAkC,CAC5D,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,OAAM,KAAM,+BAA+B,CAClD,OACEC,mBAAmB,CACnBC,wBAAwB,CACxBC,KAAK,CACLC,MAAM,CACNC,cAAc,KACR,kBAAkB,CAC1B,MAAOC,SAAQ,EAAIC,cAAc,KAAQ,kBAAkB,CAC3D,MAAOC,aAAY,KAAM,sBAAsB,CAC/C,OAASC,SAAS,KAAQ,qCAAqC,CAG/D,MAAOC,YAAW,KAAM,qBAAqB,CAC7C,MAAOC,MAAK,KAAM,eAAe,CACjC,MAAOC,aAAY,KAAM,sBAAsB,CAAC,6IAEhD,QAASC,IAAG,EAAG,CACb,GAAMC,OAAM,CAAGb,mBAAmB,CAChCC,wBAAwB,cACtB,MAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,IAAI,IAAI,wBAChC,KAAC,KAAK,EAAC,KAAK,MAAC,OAAO,cAAE,KAAC,IAAI,IAAG,EAAG,cACjC,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAG,CAAC,MAAM,CAAEK,cAAe,EAAG,cACpE,KAAC,KAAK,EAAC,IAAI,CAAC,eAAe,CAAC,OAAO,cAAE,KAAC,YAAY,IAAG,EAAE,cACvD,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,KAAK,IAAG,EAAE,cACzC,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,WAAW,IAAG,EAAE,cACjD,KAAC,KAAK,EAAC,IAAI,CAAC,wBAAwB,CAAC,OAAO,cAAE,KAAC,YAAY,IAAG,EAAE,GAC1D,CACT,CACF,CAGD,GAAMQ,SAAqB,CAAGnB,WAAW,EAAE,CAG3CG,SAAS,CAAC,UAAM,CACdgB,QAAQ,CAAClB,MAAM,EAAE,CAAC,CAElB,GAAGmB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC/BC,OAAO,CAACC,GAAG,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC1CF,QAAQ,CAACN,SAAS,EAAE,CAAC,CACvB,CACF,CAAC,CAAC,CAEFW,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAE,UAAM,CACpCN,QAAQ,CAAClB,MAAM,EAAE,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CACRuB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAE,UAAM,CACpCN,QAAQ,CAACjB,SAAS,EAAE,CAAC,CAC3B,CAAC,CAAE,IAAI,CAAC,CAEN,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,KAAC,cAAc,EAAC,MAAM,CAAEgB,MAAO,EAAE,EAC7B,CAEV,CAEA,GAAMQ,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,mBACE,wCACE,KAAC,MAAM,IAAE,cACT,kCACE,KAAC,MAAM,IAAE,EACL,cACN,KAAC,MAAM,IAAE,GACR,CAEP,CAAC,CAED,cAAeT,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}